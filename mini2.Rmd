---
title: "mini2"
output: html_document
---

```{r}
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
```

```{r}
library(dplyr)
library(tidyverse)
glimpse(house_elections)
```
```{r}
glimpse(candidates)
# the list of how many candidates in each party and sort it
can <- candidates %>%
       group_by(cand_party_affiliation) %>%
       summarise(party = n())
can <- arrange(can,desc(party))
can

# find how many candidates in that state
number <- function(location){
  candidates %>%
  filter(cand_state == location) %>%
  summarise(total = n())
}

# example1
number(location = 'CA')
```
```{r}
glimpse(committees)
```
```{r}
glimpse(contributions)
```
```{r}
#find income of each candidate
x <- candidates %>%
    inner_join(contributions,by = c("cand_id"="cand_id")) %>%
    group_by(cand_name) %>%
    summarise(income = sum(transaction_amt)) %>%
    arrange(desc(income))
x
```